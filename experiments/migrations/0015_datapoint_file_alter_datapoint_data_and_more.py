# Generated by Django 4.2.14 on 2025-05-26 09:14

import cdh.core.fields.encrypted_fields
import cdh.files.db.fields
import django.core.validators
from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):

    dependencies = [
        ("files", "0004_auto_20210921_1014"),
        ("experiments", "0014_auto_20220307_1458"),
    ]

    operations = [
        migrations.AddField(
            model_name="datapoint",
            name="file",
            field=cdh.files.db.fields.FileField(
                filename_generator=cdh.files.db.fields._default_filename_generator,
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                to="files.file",
            ),
        ),
        migrations.AlterField(
            model_name="datapoint",
            name="data",
            field=cdh.core.fields.encrypted_fields.EncryptedTextField(
                null=True, verbose_name="experiments:models:datapoint:data"
            ),
        ),
        migrations.AlterField(
            model_name="experiment",
            name="folder_name",
            field=models.TextField(
                validators=[
                    django.core.validators.RegexValidator("^[a-zA-Z0-9\\-_]*$")
                ],
                verbose_name="experiments:models:experiment:folder_name",
            ),
        ),
        migrations.AlterField(
            model_name="participantsession",
            name="group",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                to="experiments.targetgroup",
                verbose_name="experiments:models:participant:group",
            ),
        ),
        migrations.AlterField(
            model_name="participantsession",
            name="state",
            field=models.PositiveIntegerField(
                choices=[
                    (1, "experiments:models:participant:state:started"),
                    (2, "experiments:models:participant:state:completed"),
                    (3, "experiments:models:participant:state:rejected"),
                ],
                default=1,
                verbose_name="experiments:models:participant:state",
            ),
        ),
    ]
